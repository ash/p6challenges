my $n = 1234567890;

#$n ~~ s/^(\d ** 0..2)(\d ** 3)+$/{(+$0 ?? "$0." !! '') ~ $1.join('.')}/;

#$n ~~ s/(\d**3)+$/{(map {".$_"}, $0).join}/;
#$n ~~ s/(\d**3)+$/{$0.map('.' ~ *).join}/;

#say $n;


for 1, 12, 123, 1234, 12345, 123456, 1234567, 12345678, 123456789, 1234567890 {
    my $n = $_;
    #$n ~~ s/^(\d** 1..3)(\d**3)+$/{$0 ~ $1.map('.' ~ *).join}/;
    #$n ~~ s/<?after \d> (\d ** 3)+ $/{$0.map(',' ~ *).join}/;
    $n ~~ s/<?after \d> (\d ** 3)+ $/{$0.map({",$_"}).join}/;
    $n.say;
}

# for 1, 12, 123, 1234, 12345, 123456, 1234567, 12345678, 123456789, 1234567890 {
#     my $n = $_;
#     $n .= flip;
#     $n ~~ s:g/(\d**3)<?before \d>/$0,/;
#     $n.flip.say;
# }

